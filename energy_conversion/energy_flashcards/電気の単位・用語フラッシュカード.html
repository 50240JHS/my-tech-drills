<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>é›»æ°—åŸºç¤  ã‹ã‚“ãŸã‚“ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰</title>
  <style>
    body { font-family: sans-serif; padding: 40px; text-align: center; }
    .card { border: 2px solid #333; border-radius: 10px; padding: 20px; margin: 20px auto; width: 400px; }
    button { margin: 10px; padding: 10px 20px; }
    #progress-bar { width: 100%; background: #eee; border-radius: 5px; overflow: hidden; margin: 20px 0; }
    #progress-bar-inner { height: 20px; background: #4CAF50; width: 0%; text-align: center; color: #fff; }
    #controls { margin: 20px; }
    label { margin: 0 10px; }
  </style>
</head>
<body>
  <h1>é›»æ°—åŸºç¤  ã‹ã‚“ãŸã‚“ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰</h1>

  <div id="progress-bar">
    <div id="progress-bar-inner">0%</div>
  </div>

  <div class="card" id="card">
    <h2 id="term"></h2>
    <p id="reading"></p>
    <p id="definition"></p>
    <p id="example"></p>
    <div id="controls">
      <label>ã‚¹ãƒ”ãƒ¼ãƒ‰:
        <select id="speed">
          <option value="1">1.0x</option>
          <option value="1.5">1.5x</option>
          <option value="2">2.0x</option>
        </select>
      </label>
      <label>
        <input type="checkbox" id="autoPlay"> ã‚ªãƒ¼ãƒˆå†ç”Ÿ
      </label>
    </div>
    <button onclick="speak()">ğŸ”Š èª­ã¿ä¸Šã’ã‚‹</button>
    <button onclick="nextCard()">â¡ æ¬¡ã¸</button>
    <button onclick="shuffleCards()">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
  <button onclick="location.href='../index.html'">ğŸ  ã‚¨ãƒãƒ«ã‚®ãƒ¼å¤‰æ›TOPã¸æˆ»ã‚‹</button>
  </div>

  <script>
    const cards = [
      { term: "é›»å­", reading: "ã§ã‚“ã—", definition: "é›»æ°—ã‚’é‹ã¶ç²’å­", example: "é›»å­ãŒé›»æ°—ã‚’é‹ã³ã¾ã™ã€‚" },
      { term: "A", reading: "ã‚ã‚“ãºã‚", definition: "é›»æµã®å˜ä½", example: "ã‚¢ãƒ³ãƒšã‚¢ã¯é›»æµã‚’è¡¨ã—ã¾ã™ã€‚" },
      { term: "V", reading: "ã¼ã‚‹ã¨", definition: "é›»åœ§ã®å˜ä½", example: "ãƒœãƒ«ãƒˆã¯é›»åœ§ã‚’è¡¨ã—ã¾ã™ã€‚" },
      { term: "Î©", reading: "ãŠãƒ¼ã‚€", definition: "æŠµæŠ—ã®å˜ä½", example: "ã‚ªãƒ¼ãƒ ã¯æŠµæŠ—ã‚’è¡¨ã—ã¾ã™ã€‚" },
      { term: "ï¼·", reading: "ã‚ã£ã¨", definition: "é›»åŠ›ã®å˜ä½", example: "ãƒ¯ãƒƒãƒˆã¯é›»åŠ›ã‚’è¡¨ã—ã¾ã™ã€‚" },
      { term: "ç›´æµ", reading: "ã¡ã‚‡ãã‚Šã‚…ã†", definition: "é›»æµã®å‘ããŒä¸€å®š", example: "ç›´æµã¯é›»æµã®å‘ããŒä¸€å®šã§ã™ã€‚" },
      { term: "äº¤æµ", reading: "ã“ã†ã‚Šã‚…ã†", definition: "é›»æµã®å‘ããŒå¤‰ã‚ã‚‹", example: "äº¤æµã¯é›»æµã®å‘ããŒå¤‰ã‚ã‚Šã¾ã™ã€‚" },
      { term: "æ¼é›»", reading: "ã‚ã†ã§ã‚“", definition: "é›»æ°—ãŒæ¼ã‚Œã‚‹ã“ã¨", example: "æ¼é›»ã§é›»æ°—ãŒæ¼ã‚Œã¾ã™ã€‚" },
      { term: "æ¼é›»é®æ–­å™¨", reading: "ã‚ã†ã§ã‚“ã—ã‚ƒã ã‚“ã", definition: "æ¼é›»ã‚’æ­¢ã‚ã‚‹è£…ç½®", example: "æ¼é›»é®æ–­å™¨ãŒæ¼é›»ã‚’æ­¢ã‚ã¾ã™ã€‚" },
      { term: "ã‚³ãƒ³ã‚»ãƒ³ãƒˆ", reading: "ã“ã‚“ã›ã‚“ã¨", definition: "é›»æºã®å·®è¾¼å£", example: "ã‚³ãƒ³ã‚»ãƒ³ãƒˆã¯é›»æºã‚’ã¤ãªãã¾ã™ã€‚" }
    ];

    let current = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function shuffleCards() {
      shuffle(cards);
      current = 0;
      updateProgress();
      showCard();
    }

    function showCard() {
      const c = cards[current];
      document.getElementById("term").textContent = c.term;
      document.getElementById("reading").textContent = `èª­ã¿æ–¹: ${c.reading}`;
      document.getElementById("definition").textContent = `å®šç¾©: ${c.definition}`;
      document.getElementById("example").textContent = `ä¾‹æ–‡: ${c.example}`;
      updateProgress();
    }

    function nextCard() {
      if (current < cards.length - 1) {
        current++;
      } else {
        current = 0; // çµ‚ã‚ã£ãŸã‚‰æœ€åˆã«æˆ»ã‚‹
      }
      showCard();
      if (document.getElementById("autoPlay").checked) {
        speak();
      }
    }

    function speak() {
      const c = cards[current];
      const utter = new SpeechSynthesisUtterance(
        `${c.term}ã€‚${c.reading}ã€‚${c.definition}ã€‚${c.example}`
      );
      utter.lang = 'ja-JP';
      utter.rate = parseFloat(document.getElementById("speed").value);
      utter.onend = function() {
        if (document.getElementById("autoPlay").checked) {
          nextCard();
        }
      };
      speechSynthesis.speak(utter);
    }

    function updateProgress() {
      const percent = Math.round(((current + 1) / cards.length) * 100);
      document.getElementById("progress-bar-inner").style.width = percent + "%";
      document.getElementById("progress-bar-inner").textContent = `${current + 1} / ${cards.length} (${percent}%)`;
    }

    shuffleCards(); // åˆæœŸã‚·ãƒ£ãƒƒãƒ•ãƒ«
  </script>
  <footer>
    <p>&copy; 2025 my-tech-drills Project</p>
  </footer>
</body>
</html>
